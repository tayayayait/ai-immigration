# AI 이민 수속·고객 관리 시스템 - 필수 외부 API 및 인프라 명세서

현재 구현된 MVP는 클라이언트 사이드 데이터(Mock Data)로 동작하고 있습니다. 실제 상용 서비스를 위해서는 다음과 같은 외부 API 및 백엔드 인프라 연동이 필요합니다.

---

## 1. AI 및 LLM (핵심 기능)
AI 상담 챗봇, 상담 내용 분석, 자동 요약, 유사 성공 사례 추천을 위해 필요합니다.

| 기능 | 권장 API / 서비스 | 용도 |
|------|-------------------|------|
| **LLM (대화/추론)** | **OpenAI API (GPT-4o)** 또는 **Anthropic Claude 3.5 Sonnet** | - AI 상담 챗봇 응답 생성<br>- 상담 이력 요약 및 분석<br>- RFE 대응 전략 제안 |
| **임베딩 (RAG)** | **OpenAI Embeddings (text-embedding-3-small)** | - 유사 성공 사례 검색을 위한 텍스트 벡터화<br>- 이민 법규 및 가이드 라인 검색 |
| **Vector DB** | **Pinecone**, **Weaviate**, 또는 **Supabase pgvector** | - 임베딩된 성공 사례 데이터 저장 및 고속 검색 (RAG 구현) |

## 2. 문서 처리 (OCR & Storage)
고객이 제출한 여권, 학위증명서, 추천서 등을 분석하고 저장하기 위해 필요합니다.

| 기능 | 권장 API / 서비스 | 용도 |
|------|-------------------|------|
| **OCR (광학 문자 인식)** | **Google Cloud Vision API** 또는 **AWS Textract** | - 업로드된 PDF/이미지에서 텍스트 추출<br>- 여권 정보, 학위 증명서 내용 자동 입력 |
| **파일 스토리지** | **AWS S3**, **Google Cloud Storage**, 또는 **Supabase Storage** | - 대용량 문서 파일 보안 저장<br>- 업로드/다운로드 URL 생성 |
| **문서 뷰어** | **PDF.js** (라이브러리) | - 웹 상에서 PDF 미리보기 구현 (API 아님, 라이브러리) |

## 3. 백엔드 및 데이터베이스
고객 정보, 상담 내역, 수속 상태 등을 영구 저장하고 관리하기 위해 필요합니다.

| 기능 | 권장 API / 서비스 | 용도 |
|------|-------------------|------|
| **메인 데이터베이스** | **PostgreSQL (Supabase)** 또는 **MongoDB Atlas** | - 고객 프로필, 수속 단계, 상담 로그 등 정형 데이터 저장 |
| **사용자 인증 (Auth)** | **Supabase Auth**, **Firebase Auth**, 또는 **Auth0** | - 상담사/관리자 로그인<br>- 보안 및 세션 관리 |
| **API 서버** | **Node.js (Express/NestJS)** 또는 **Python (FastAPI)** | - 프론트엔드와 각 API 서비스 간의 중계<br>- 비즈니스 로직 처리 |

## 4. 알림 및 커뮤니케이션
고객에게 진행 상황을 알리거나 상담 일정을 관리하기 위해 필요합니다.

| 기능 | 권장 API / 서비스 | 용도 |
|------|-------------------|------|
| **이메일 발송** | **SendGrid** 또는 **AWS SES** | - 수속 단계 변경 알림<br>- 서류 요청 메일 자동 발송 |
| **SMS/카카오톡** | **Twilio** (글로벌) 또는 **Solapi/Aligo** (국내) | - 긴급 알림, 상담 예약 문자 발송 |
| **일정 관리** | **Google Calendar API** | - 법무사/변호사 상담 스케줄링 및 연동 |

---

## 5. 단계별 도입 전략 (추천)

### 1단계: 핵심 데이터 인프라 구축 (Backend as a Service 활용)
- **Supabase** 하나로 **DB + Auth + Storage + Vector DB**를 한 번에 해결하는 것을 추천합니다. 개발 속도가 빠르고 관리가 용이합니다.
- **OpenAI API** 연동하여 챗봇 기능 활성화.

### 2단계: 문서 자동화 (OCR 도입)
- 파일 업로드 기능을 구현하고 **Google Cloud Vision API**를 붙여 여권/정보 자동 추출 기능 구현.

### 3단계: 고도화 (RAG 및 알림)
- 과거 성공 사례 데이터를 벡터화하여 DB에 넣고, 상담 시 유사 사례를 추천해주는 RAG 시스템 구축.
- 이메일/문자 자동 알림 연동.

---

## 6. 예상 비용 구조 (월간 추정)
*초기 스타트업/MVP 기준*

- **OpenAI API**: 약 $20~50 (사용량 비례)
- **Supabase**: $0 (Free Tier) ~ $25 (Pro)
- **Cloud Storage**: 약 $5 (스토리지 용량 비례)
- **OCR API**: 약 $10 (1,000건 당 $1.5 수준)
- **합계**: 월 약 **$35 ~ $100** 수준으로 운영 가능
